# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A023705

from sympy import integer_log
def A023705(n):
    m = integer_log(k:=(n<<1)+1,3)[0]
    return sum(1+(k-3**m)//(3**j<<1)%3<<(j<<1) for j in range(m)) # _Chai Wah Wu_, Jun 27 2025

