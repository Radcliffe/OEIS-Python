# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A357434

from sympy import isprime
def A357434(nmax):
    newtp, a, turn = ((0, 0), (1, 1)), [0, 1], 1
    tp = {newtp}
    for n in range(1, nmax):
        p1, p2 = newtp[0], newtp[1]
        if isprime(n): # Continue straight
            newtp = (p2, (2*p2[0]-p1[0], 2*p2[1]-p1[1]))
        else:          # Turn
            if n>5 and isprime(n-1): turn *= -1
            newtp = (p2, (p2[0]-turn*(p1[1]-p2[1]), p2[1]+turn*(p1[0]-p2[0])))
        tp.add(newtp)
        a.append(len(tp))
    return a[:nmax+1]
print(A357434(100))

