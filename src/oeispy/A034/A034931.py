# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A034931

from math import isqrt, comb
def A034931(n):
    g = (m:=isqrt(f:=n+1<<1))-(f<=m*(m+1))
    k = n-comb(g+1,2)
    if k.bit_count()+(g-k).bit_count()-g.bit_count()>1: return 0
    s, c, d = bin(g)[2:], 1, 0
    w = (bin(k)[2:]).zfill(l:=len(s))
    for i in range(0,l-1):
        r, t = s[i:i+2], w[i:i+2]
        if (x:=int(r,2)) < (y:=int(t,2)):
            d += (t[0]>r[0])+(t[1]>r[1])
        else:
            c = c*comb(x,y)&3
    d -= sum(1 for i in range(1,l-1) if w[i]>s[i])
    return (c<<d)&3 # _Chai Wah Wu_, Jul 19 2025

