# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A352065

from math import prod
from sympy import prime, nextprime, prevprime
def A352065(n):
    plist = [prime(k) for k in range(1,2*n+2)]
    pd = prod(plist)
    while True:
        mlist = [nextprime(pd//(2*n+1)-1)]
        for _ in range(n):
            mlist = [prevprime(mlist[0])]+mlist+[nextprime(mlist[-1])]
        if sum(mlist) <= pd:
            while (s := sum(mlist)) <= pd:
                if s == pd:
                    return plist[0]
                mlist = mlist[1:]+[nextprime(mlist[-1])]
        else:
            while (s := sum(mlist)) >= pd:
                if s == pd:
                    return plist[0]
                mlist = [prevprime(mlist[0])]+mlist[:-1]
        pd //= plist[0]
        plist = plist[1:] + [nextprime(plist[-1])]
        pd *= plist[-1] # _Chai Wah Wu_, Apr 21 2022

