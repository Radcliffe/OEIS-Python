# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A050251

from __future__ import division
from sympy import isprime
def paloddgen(l,b=10): # generator of odd-length palindromes in base b of length <= 2*l
    if l > 0:
        yield 0
        for x in range(1,l+1):
            n = b**(x-1)
            n2 = n*b
            for y in range(n,n2):
                k, m = y//b, 0
                while k >= b:
                    k, r = divmod(k,b)
                    m = b*m + r
                yield y*n + b*m + k
def A050251(n):
    if n <= 1:
        return 4*n
    else:
        c = 1
        for i in paloddgen((n+1)//2):
            if isprime(i):
                c += 1
        return c # _Chai Wah Wu_, Jan 05 2015

