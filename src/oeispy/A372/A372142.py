# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A372142

from math import isqrt
from sympy import sieve
from sympy.ntheory import digits
from itertools import islice
def ispal(v): return v == v[::-1]
def f(p): return sum(1 for q in sieve.primerange(1, isqrt(p-1)+1) if ispal(digits(p, q)[1:]))
def agen():
    adict, n = {0:2, 1:3}, 0
    for p in sieve:
        v = f(p)
        if v >= n and v not in adict:
            adict[v] = p
            while n in adict:
                yield adict[n]; del adict[n]; n += 1
print(list(islice(agen(), 6))) # _Michael S. Branicky_, Apr 21 2024

