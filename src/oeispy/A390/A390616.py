# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A390616

def a(n):
    if n <= 1: return 0
    h = 0
    while (3**(h+1) - 1) // 2 < n:
        h += 1
    M = (3**h - 1) // 2
    L = n - (n + 1) // 3
    return (h-1)*L + (n - M)

