# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A390394

from math import prod
from itertools import combinations
def A390394(n):
    s, t = [], set()
    for l in range(2,n):
        for p in combinations(range(1,n+1),r=l):
            m = prod(p)
            a, r = divmod(m,sum(m//d for d in p))
            if not r:
                s.append(c:=set([a]+list(p)))
                t |= c
    l = len(t)
    for i in range(l,-1,-1):
        for d in combinations(t,i):
            if not any(x.issubset(d) for x in s):
                return n-l+i # _Chai Wah Wu_, Nov 23 2025

