# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A048646

from math import isqrt
from sympy import primerange
def issquare(n): return isqrt(n)**2 == n
def ok(n, c):
    if n%10 in {2, 3, 7, 8}: return False
    if issquare(n) and c > 1: return True
    d = str(n)
    for i in range(1, len(d)):
        if d[i] != '0' and issquare(int(d[:i])) and ok(int(d[i:]), c+1):
            return True
    return False
def aupto(lim): return [p for p in primerange(1, lim+1) if ok(p*p, 1)]
print(aupto(25931)) # _Michael S. Branicky_, Jul 10 2021

