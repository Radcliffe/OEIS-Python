# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A226351

# Depth-first search on 3 rows and n columns
# Produces "count" and the list "result[]"
# Omit the 2nd-last line if memory runs low
n=5; rows=3
count=0; result=[]
def f(b, row=0, col=-1):
  global count
  for i in range(row, len(b)):
    for j in range((col+1 if i==row else 0), len(b[0])):
      if b[i][j]==' ':
        if i<len(b)-1:
          if b[i+1][j]==' ':
            f(b[:i]+[b[i][:j]+'^'+b[i][j+1:], b[i+1][:j]+'V'+b[i+1][j+1:]]+b[i+2:], i, j)
            if j<len(b[0])-1:
              if b[i][j+1]==' ' and b[i+1][j:j+2]==' ':
                f(b[:i]+[b[i][:j]+'/\\'+b[i][j+2:], b[i+1][:j]+'\\/'+b[i+1][j+2:]]+b[i+2:], i, j)
        if j<len(b[0])-1:
          if b[i][j+1]==' ':
            f(b[:i]+[b[i][:j]+'<>'+b[i][j+2:]]+b[i+1:], i, j)
  count+=1
  result.append(b) # omit this line
f([' '*n]*rows); print(count)

