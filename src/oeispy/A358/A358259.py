# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A358259

from itertools import count
def A358259(n):
    b, bdict, k = 0, {0:(1,)},1<<n-1 if n > 1 else 0
    for m in count(2):
        if b >= k:
            return m-1
        if len(l := bdict[b]) > 1:
            b = m-1-l[-2]
            if b in bdict:
                bdict[b] = (bdict[b][-1],m)
            else:
                bdict[b] = (m,)
        else:
            b = 0
            bdict[0] = (bdict[0][-1],m) # _Chai Wah Wu_, Nov 06 2022

