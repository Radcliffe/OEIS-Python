# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A213018

from sympy import factorint
def fromdigits(t, b): return sum(b**i*di for i, di in enumerate(t[::-1]))
def semiprime(n): return sum(factorint(n).values()) == 2
def a(n):
    m, s = 0, [(i,) for i in range(n) if semiprime(fromdigits((i,), n))]
    while len(s) > 0:
        m = fromdigits(max(s), n)
        cands = set(t+(d,) for t in s for d in tuple(range(n)))
        s = [c for c in cands if semiprime(fromdigits(c, n))]
    return m
print([a(n) for n in range(5, 8)]) # _Michael S. Branicky_, Aug 04 2022

