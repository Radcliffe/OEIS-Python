# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A136257

import chess
def A136257(n, B=chess.Board()):
    if n == 0: return 1
    count = 0
    for m in B.legal_moves:
        B.push(m)
        if B.is_checkmate():
            if n == 1: count += 1
        else:
            m.from_square ^= 56
            m.to_square ^= 56  # reverse ranks through XOR with 7
            if B.is_legal(m):
                if n == 1: count += 1
                else:
                    B.push(m)
                    count += A136257(n - 1, B)
                    B.pop()
        B.pop()
    return count  # M. F. Hasler, Dec 08 2021

