# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A134996

from sympy import isprime
from itertools import count, islice, product
def t(s): return s.translate({ord("2"):ord("5"), ord("5"):ord("2")})
def ok(s): # s is a string of digits
    return all(isprime(int(w)) for w in [s, s[::-1], t(s), t(s[::-1])])
def agen(): # generator of terms
    yield from (2, 5)
    for d in count(2):
        for mid in product("01258", repeat=d-2):
            s = "1" + "".join(mid) + "1"
            if ok(s): yield int(s)
print(list(islice(agen(), 35))) # _Michael S. Branicky_, Apr 27 2024

