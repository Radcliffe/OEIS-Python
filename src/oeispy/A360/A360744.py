# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A360744

def A(lastn,mode=0):
  a,n,t=[1],0,1
  while n<lastn:
    p,v=0,1
    while p<=n:
      d,g,r,rr=[[p]],0,0,[p]
      while len(d)>0:
        if not d[-1][-1] in rr:rr.append(d[-1][-1])
        if d[-1][-1]-a[d[-1][-1]]>=0:
          if d[-1].count(d[-1][-1]-a[d[-1][-1]])<t:g=1
        if d[-1][-1]+a[d[-1][-1]]<=n:
          if d[-1].count(d[-1][-1]+a[d[-1][-1]])<t:
            if g>0: d.append(d[-1][:])
            d[-1].append(d[-1][-1]+a[d[-1][-1]])
            r=1
        if g>0:
          if r>0: d[-2].append(d[-2][-1]-a[d[-2][-1]])
          else: d[-1].append(d[-1][-1]-a[d[-1][-1]])
          r=1
        if r==0:d.pop()
        r,g=0,0
      if v<len(rr):v=len(rr)
      p+=1
    a.append(v)
    n+=1
    print(n+1,a[n])
    if mode>0: print(a)
  return a ## _S. Brunner_, Feb 19 2023

