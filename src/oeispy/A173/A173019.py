# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A173019

from math import prod, comb
from gmpy2 import digits
def A173019(n):
    if n==0: return 1
    c, l = '', len(s:=digits(n,3))
    for k in range(m:=n+2>>1):
        t = digits(k,3).zfill(l)
        c += str(prod(comb(int(s[i]),int(t[i]))%3 for i in range(l))%3)
    return int(c+c[m-2+(n&1)::-1],3) # _Chai Wah Wu_, Jul 30 2025

