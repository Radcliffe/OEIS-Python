# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A130665

def a(n):  # optimized, n=10^50000 takes ~1 second
    n += 1
    total = 0
    power3 = 1
    while n:
        log = n.bit_length() - 1
        total += power3 << (2*log)
        n -= 1 << log
        power3 *= 3
    return total # _Stefan Pochmann_, Mar 15 2023

