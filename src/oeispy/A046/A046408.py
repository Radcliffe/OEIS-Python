# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A046408

from sympy import factorint
from itertools import product
def ispal(n): s = str(n); return s == s[::-1]
def pals(d, base=10): # all d-digit palindromes
    digits = "".join(str(i) for i in range(base))
    for p in product(digits, repeat=d//2):
        if d > 1 and p[0] == "0": continue
        left = "".join(p); right = left[::-1]
        for mid in [[""], digits][d%2]: yield int(left + mid + right)
def ok(pal):
    f = factorint(pal)
    return len(f) == 2 and sum(f.values()) == 2 and all(ispal(p) for p in f)
print(list(filter(ok, (p for d in range(1, 6) for p in pals(d) if ok(p))))) # _Michael S. Branicky_, Jun 22 2021

