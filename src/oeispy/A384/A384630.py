# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A384630

# From Proposition 4.1 in the reference:
from sympy import factorial,divisors,totient
def A384630(n):
    s = 0
    if n%2==0:
        for d in divisors(n//2):
            if d%2==0:
                s += totient(d)*(d//2)**(n//2//d)*factorial(n//d)//factorial(n//2//d)
            else:
                s += totient(d)*sum(factorial(n//d)*d**i//2**i//factorial(i)//factorial(n//d-2*i) for i in range(n//2//d+1))
    else:
        for d in divisors(n):
            s += totient(d)*sum(factorial(n//d)*d**i//2**i//factorial(i)//factorial(n//d-2*i) for i in range(n//d//2+1))
    return s//n

