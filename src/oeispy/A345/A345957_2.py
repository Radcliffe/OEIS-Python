# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A345957

from itertools import combinations
from math import prod, comb
from sympy import factorint
def A345957(n):
    if n == 1:
        return 1
    fs = factorint(n)
    elist = list(fs.values())
    q, r = divmod(sum(elist),2)
    k = len(elist)
    if r:
        return 0
    c = 0
    for i in range(k+1):
        m = (-1)**i
        for d in combinations(range(k),i):
            t = k+q-sum(elist[j] for j in d)-i-1
            if t >= 0:
                c += m*comb(t,k-1)
    return c # _Chai Wah Wu_, Aug 20 2021

