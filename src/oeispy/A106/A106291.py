# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A106291

from math import lcm
from functools import lru_cache
from sympy import factorint
@lru_cache(maxsize=None)
def A106291(n):
    if n < 3:
        return (n<<1)-1
    f = factorint(n).items()
    if len(f) > 1:
        return lcm(*(A106291(a**b) for a,b in f))
    else:
        k,x = 1, (1,3)
        while x != (2,1):
            k += 1
            x = (x[1], (x[0]+x[1]) % n)
        return k # _Chai Wah Wu_, Apr 25 2025

