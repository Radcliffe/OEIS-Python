# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A389522

def a(n):
    if n < 0: raise ValueError("n>=0")
    if n == 0: return 0
    s=[1, 1]; h=2; p=0; idx=0; r=1
    while True:
        while len(s) < p+2:
            t = 2 if (h & 1) == 0 else 1
            s += [t]*((s[h-1]*2)//t); h += 1
        if s[p]==2:
            p+=1; idx+=1
            if idx==n: return 2
            K=((r & -r).bit_length()-1)+1
            idx+=1
            if idx==n: return int(2)
        elif p+1<len(s) and s[p]==1 and s[p+1]==1:
            p+=2; idx+=1
            if idx==n: return 1
            idx+=1
            if idx==n: return 1
            K=((r & -r).bit_length()-1)+1
            idx+=1
            if idx==n: return int(2)
        else:
            continue
        r+=1

