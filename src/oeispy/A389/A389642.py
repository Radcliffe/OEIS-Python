# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A389642

def lambda_values(n_max: int):
    """
    Compute lambda(m) for:
        lambda(1)=1, lambda(2)=1
        for m>=3: lambda(m) = max_{1<=j<=m-2} (1 + j*lambda(m-j-1))
    Returns (lambda_list, argmax_list).
    """
    lam = [0]*(n_max+1)
    argmax_j = [0]*(n_max+1)
    lam[1] = 1
    if n_max >= 2:
        lam[2] = 1
    for m in range(3, n_max+1):
        best_val = -1
        best_j = 0
        for j in range(1, m-1):  # j = 1..m-2
            cand = 1 + j * lam[m-j-1]
            if cand > best_val:
                best_val = cand
                best_j = j
        lam[m] = best_val
        argmax_j[m] = best_j
    return lam, argmax_j

