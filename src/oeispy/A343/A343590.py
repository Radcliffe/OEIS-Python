# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A343590

from sympy import sieve
def sign(n): return (n > 0) - (n < 0)
def ok(p):
  if p < 10: return True
  s = str(p)
  t = set(sign(int(s[i])%2-int(s[i-1])%2)*(-1)**i for i in range(1, len(s)))
  t2 = set(sign(int(s[i])-int(s[i-1]))*(-1)**i for i in range(1, len(s)))
  return (t == {1} or t == {-1}) and (t2 == {1} or t2 == {-1})
def aupto(limit): return [p for p in sieve.primerange(1, limit+1) if ok(p)]
print(aupto(4703)) # _Michael S. Branicky_, Apr 21 2021

