# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A343471

from sympy import nextprime, isprime
from itertools import count, islice, product
def onlypd(n): return set(str(n)) <= set("2357")
def agen():
    adict = {i:2 for i in range(1, 5)}
    for i in range(1, 5): yield 2
    for digits in count(2):
        for p in product("2357", repeat=digits-1):
            for end in "37":
                t0 = t = int("".join(p) + end)
                run = 0
                while isprime(t):
                    run += 1
                    t = nextprime(t)
                    if not onlypd(t): break
                if run not in adict:
                    for r in range(max(adict)+1, run+1):
                        adict[r] = t0
                        yield t0
print(list(islice(agen(), 6))) # _Michael S. Branicky_, Mar 11 2022

