# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A368548

from itertools import count
from math import comb
from collections import Counter
from sympy.utilities.iterables import partitions
from sympy import isprime
def A368548(n):
    if n == 3 or (n>1 and isprime(n+1)): return 2
    c = 0
    for p in partitions(n):
        s, a = '', 1
        for d in sorted(Counter(p).elements()):
            s += '1'*(d-a)+'0'
            a = d
        if s[:-1] == s[-2::-1]:
            c += 1
    return c # _Chai Wah Wu_, Feb 06 2024
from math import comb
from sympy import divisors
def A368548(n): # faster program using formula
    x = sum(comb(d-2+((n+1)//d>>1),d-1) for d in divisors(n+1>>1,generator=True)) if n&1 else 0
    y = sum(comb((d-5>>1)+(n+1)//d,d-3>>1) for d in divisors((n+1)>>(~(n+1)&n).bit_length(),generator=True) if d>=3)<<1
    return x+y # _Chai Wah Wu_, Feb 08 2024

