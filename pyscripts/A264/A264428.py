# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A264428

from functools import cache
from math import comb as binomial
def BellMatrix(f, size):
    A = [f(n) for n in range(size - 1)]
    @cache
    def T(n, k):
        if k == 0: return k ** n
        return sum(
            binomial(n - 1, j) * T(n - j - 1, k - 1) * A[j]
            for j in range(n - k + 1) )
    return [[T(n, k) for k in range(n + 1)] for n in range(size)]
@cache
def b(n, k=0): return n < 1 or k*b(n-1, k) + b(n-1, k+1)
print(BellMatrix(b, 9))  # _Peter Luschny_, Jun 14 2022

