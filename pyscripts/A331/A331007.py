# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A331007

def permutation(n):
    permutations = [[]]
    for i in range(1,n + 1):
        new_permutations = []
        for p in permutations:
            for j in range(0, len(p) + 1):
                n = p.copy()
                n.insert(j, i)
                new_permutations.append(n)
        permutations = new_permutations
    return permutations
def check_secret_santa(permutations):
    num_valid = 0
    for perm in permutations:
        valid = True
        for i, p in enumerate(perm):
            if i == p - 1 or (i == 0 and p == 2) or (i == 1 and p == 1):
                valid = False
                break
        if valid:
            num_valid += 1
    return num_valid

