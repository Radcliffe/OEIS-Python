# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A339508

from functools import lru_cache, reduce
from operator import mul
from itertools import combinations
@lru_cache(maxsize=None)
def A339508(n):
    nlist = [i for i in range(2,n) if i % 10 != 0]
    if n == 0 or n == 1:
        return 1
    c = A339508(n-1)
    if n % 10 != 0:
        if str(n) == str(n)[::-1]:
            c += 1
        for i in range(1,len(nlist)+1):
            for d in combinations(nlist,i):
                s = str(reduce(mul,d)*n)
                if s == s[::-1]:
                    c += 1
    return c # _Chai Wah Wu_, Dec 08 2020

