# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A339508

from numpy import prod
from itertools import combinations
def a(n):
    ans = 1  # empty set
    for r in range(1, n):
        for s in combinations(range(2, n+1), r):
            strsp = str(prod(s))
            ans += strsp==strsp[::-1]
    return ans
print([a(n) for n in range(20)])  # _Michael S. Branicky_, Dec 08 2020
from functools import lru_cache, reduce
from operator import mul
from itertools import combinations
@lru_cache(maxsize=None)
def A339508(n):
    nlist = [i for i in range(2,n) if i % 10 != 0]
    if n == 0 or n == 1:
        return 1
    c = A339508(n-1)
    if n % 10 != 0:
        if str(n) == str(n)[::-1]:
            c += 1
        for i in range(1,len(nlist)+1):
            for d in combinations(nlist,i):
                s = str(reduce(mul,d)*n)
                if s == s[::-1]:
                    c += 1
    return c # _Chai Wah Wu_, Dec 08 2020
from functools import lru_cache
def cond(p): sp = str(p); return sp == sp[::-1]
@lru_cache(maxsize=None)
def b(n, p):
    if n == 1: return int(cond(p))
    return b(n-1, p) + b(n-1, p*n) if p*n%10 else b(n-1, p)
def a(n): return 1 if n < 2 else b(n, 1)
print([a(n) for n in range(36)]) # _Michael S. Branicky_, Oct 05 2022

