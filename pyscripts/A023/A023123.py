# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A023123

from bisect import bisect
from sympy import floor, E
theta = E
sums = [0]
cached = {}
def A023123(i):
    while sums[-1] < i:
        term = sums[-1] + floor(theta * (len(sums) - 1)) + 1
        sums.append(term)
        cached[term] = 1
    path = [i]
    while path[-1] not in cached:
        path.append(path[-1] - bisect(sums, path[-1]) + 1)
    base = cached[path[-1]]
    for offset, vertex in enumerate(reversed(path)):
        cached[vertex] = base + offset
    return cached[i]
print([A023123(i) for i in range(1, 1001)])  # _Brady J. Garvin_, Sep 13 2024

