# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A345209

from sympy import primedivisors
def a(n):
    # degenerate cases
    if n == 1 or n == 2:
        return 1
    # calculate index of Γ(n) in Γ
    index = n**3
    for p in primefactors(n):
        index *= (p**2 - 1)
        index //= p**2
    index //= 2
    # calculate pisano semiperiod
    sigma = 1
    a, b = 1, 1
    while (a,b) != (0,1) and (a,b) != (0, n - 1):
        a, b = b, (a + b) % n
        sigma += 1
    # number of petrie polygons = index / sigma
    return index // sigma

