# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A376640

from functools import lru_cache
from sympy.functions.combinatorial.numbers import stirling, bell, catalan
def A376640(n):
    if n&1:
        return catalan(n+1)*bell(n+2)>>1
    else:
        if not n: return 2
        @lru_cache(maxsize=None)
        def ach(n,k): return (n==k) if n<2 else k*ach(n-2,k)+ach(n-2,k-1)+ach(n-2,k-2)
        return (catalan(n+1)*bell(n+2)+catalan(m:=n>>1)*((sum(stirling(n+2,k,kind=2)+ach(n+2,k)>>1 for k in range(n+3))<<1)-bell(n+2)-(bell(m+1)<<1))>>1) # _Chai Wah Wu_, Oct 15 2024

