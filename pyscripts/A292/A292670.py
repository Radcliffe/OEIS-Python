# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A292670

def a(n):
    s, b = n*n, n # side length, block size
    m, S, N = 0, {1}, range(1, s+1)
    g = [[0 for j in range(s+b)] for i in range(s+b)]
    row, col = {i:set() for i in N}, {j:set() for j in N}
    offsets = [(i, j) for i in range(-b+1, 1) for j in range(-b+1, 1)]
    offsets += [(i, j) for i in range(-b+1, 0) for j in range(1, b)]
    for i in N:
        for j in N:
            rect = set(g[i+o[0]][j+o[1]] for o in offsets)
            e = min(S - row[i] - col[j] - rect)
            g[i][j] = e
            if e > m:
                m = e
                S.add(m+1)
            row[i].add(e)
            col[j].add(e)
    return m
print([a(n) for n in range(1, 13)]) # _Michael S. Branicky_, Apr 13 2023

