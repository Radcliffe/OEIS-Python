# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A374770

from itertools import combinations
from sympy import divisors, isprime
def A374770(n):
    if isprime(n): return n+1
    s = {}
    for d in divisors(n,generator=True):
        t = {}
        for a in combinations(range(n),d):
            for i in range(1,n):
                if (w:=tuple((i+b)%n for b in a)) in t:
                    t[w]+=1
                    break
            else:
                t[a] = 1
        s[d] = t
    c = 0
    for d in divisors(n,generator=True):
        for a in s[d]:
            for b in s[n//d]:
                if len({(x+y)%n for x in a for y in b})==n:
                    c += s[d][a]
                    break
    return c # _Chai Wah Wu_, Jul 22 2024

