# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A144753

from sympy import isprime
def ok(n): b = bin(n)[2:]; return b == b[::-1] and isprime(b.count("1"))
print(list(filter(ok, range(5710)))) # _Michael S. Branicky_, Sep 17 2021
 # faster for computing initial segment of sequence
from sympy import isprime
from itertools import product
def ok2(bin_str): return isprime(bin_str.count("1"))
def bin_pals(maxdigits):
    yield from "01"
    digits, midrange = 2, [[""], ["0", "1"]]
    for digits in range(2, maxdigits+1):
        for p in product("01", repeat=digits//2-1):
            left = "1"+"".join(p)
            for middle in midrange[digits%2]:
                yield left + middle + left[::-1]
def auptopow2(e): return [int(b, 2) for b in filter(ok2, bin_pals(e))]
print(auptopow2(13)) # _Michael S. Branicky_, Sep 17 2021

