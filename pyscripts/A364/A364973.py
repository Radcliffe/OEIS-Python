# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A364973

from functools import lru_cache
from fractions import Fraction
from math import prod, factorial
from sympy.utilities.iterables import partitions
@lru_cache(maxsize=None)
def A364973(n): # after Sage code
    return 1 if n==1 else int(factorial(3*n-2)*(Fraction(1,factorial(n)**3)-sum(Fraction(prod(((3*m-1)*A364973(m))**e for m, e in p.items()),factorial(3*n-s)*prod(factorial(c) for c in p.values())) for s, p in partitions(n, k=n-1, size=True)))) # _Chai Wah Wu_, Nov 10 2023

