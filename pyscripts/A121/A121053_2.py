# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A121053

# faster for initial segment of sequence
from sympy import isprime, sieve
from itertools import count, islice
def nextcomposite(n): return next(k for k in count(n+1) if k not in sieve)
def agen(): # generator of terms
    alst, chin, pin, nextc = [2, 3, 5, 1, 7], 1, 3, 6
    yield from alst
    for n in count(6):
        if isprimen:=n < nextc: pin += 1
        else: chin, nextc = chin + 1, nextcomposite(nextc)
        yield sieve[(n+pin)>>1] if isprimen or chin&1 else nextc
print(list(islice(agen(), 80))) # _Michael S. Branicky_, Nov 29 2024

