# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A335971

def dead_end(k): return abs((k//10)%10 - k%10) <= 1
def aupto(n, seed=13):
  train, used = [seed], {seed}
  for n in range(2, n+1):
    caboose = train[-1]
    h1, h2 = sorted([(caboose//10)%10, caboose%10])
    hooks = set(range(h1+1, h2))
    pow10 = 10
    an = min(hooks)*pow10
    while an in used: an += 1
    hook = an//pow10
    while True:
      if hook in hooks:
        if not dead_end(an):
          train.append(an)
          used.add(an)
          break
      else: pow10 *= 10
      an = max(an+1, min(hooks)*pow10)
      while an in used: an += 1
      hook = an//pow10
  return train    # use train[n-1] for a(n)
print(aupto(65))  # _Michael S. Branicky_, Dec 14 2020

