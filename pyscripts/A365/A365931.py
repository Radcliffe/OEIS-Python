# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A365931

from sympy import integer_nthroot, integer_log
def A365931(n):
    result, nMersenne, new = 0, (1<<n)-1, n
    for it in range(1,integer_log(n,2)[0]+1):
        result += it * ((prev:=new) - (new:=integer_log(nMersenne,it+2)[0]+1))
    for y in range(2,new): result += (integer_nthroot(nMersenne, y)[0]) - 1
    return result

