# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A360447

def A360447(n, A=[0], S=[]):
    while len(A)-len(S) <= n:
        L = len(A); K = [k for k,s in enumerate(S, L-len(S)) if s == L]
        if not K: S += [L + A[-1]]; A += [L]
        else:
            m = min(K, key = lambda k: abs(A[k]-A[k-1])); k = m-L+len(S)
            S[k] = L + A[m]; S.insert(k, L + A[m-1]); A.insert(m, L)
        while S and S[0] <= L: S.pop(0)
    return A[n]

