# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A081344

t=int((math.sqrt(8*n-7) - 1)/ 2)
i=n-t*(t+1)/2
j=(t*t+3*t+4)/2-n
if j >= i:
     m=(j-1)**2 + j + (j-i)*(-1)**(j-1)
else:
     m=(i-1)**2 + i - (i-j)*(-1)**(i-1)
# _Boris Putievskiy_, Dec 19 2012
from math import isqrt
def A081344(n):
    t = (k:=isqrt(m:=n<<1))+((m<<2)>(k<<2)*(k+1)+1)-1
    i, j = n-(t*(t+1)>>1), (t*(t+3)>>1)+2-n
    r = max(i,j)
    return (r-1)**2+r+(j-i if r&1 else i-j) # _Chai Wah Wu_, Nov 04 2024

