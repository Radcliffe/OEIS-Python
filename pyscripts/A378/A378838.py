# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A378838

from math import prod, factorial
from sympy.utilities.iterables import partitions
def A378838(n):
    if n==1: return 10
    if n%3!=1: return 1
    k, c, f = n%9, 0, factorial(n-1)
    a = 3*n if k==4 or k==7 else n
    for i in range(a,9*n+1,a):
        for s,p in partitions(i,m=n,k=9,size=True):
            v = list(p.values())
            p = prod((factorial(i) for i in v))*factorial(n-s)
            c += sum(f*i//p for i in v)
    return c # _Chai Wah Wu_, Dec 12 2024

