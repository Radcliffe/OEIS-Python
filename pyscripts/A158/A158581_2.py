# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A158581

def ok(n): b = bin(n)[2:]; return b.count('0') >= 2 and b.count('1') >= 2
print(list(filter(ok, range(98)))) # _Michael S. Branicky_, Sep 10 2021
def A158581(n):
    def f(x):
        c = n+((l:=(x+1).bit_length())*(l+1)>>1)-3
        m = bin(x+1)[2:].find('0')
        c += m if m>-1 else l
        return c
    m, k = n, f(n)
    while m != k: m, k = k, f(k)
    return m # _Chai Wah Wu_, Dec 24 2024

