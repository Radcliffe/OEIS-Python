# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A158582

def A158582(n):
    def f(x):
        c = n+(((l:=(x+1).bit_length())+1)*(l-2)>>1)
        m = bin(x+1)[2:].find('0')
        c += m if m>-1 else l
        return c
    m, k = n, f(n)
    while m != k: m, k = k, f(k)
    return m # _Chai Wah Wu_, Dec 24 2024

