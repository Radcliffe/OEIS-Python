# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A104217

from math import lcm
from functools import lru_cache
from sympy import factorint
@lru_cache(maxsize=None)
def A104217(n):
    if n < 4:
        return (1,7,13)[n-1]
    f = factorint(n).items()
    if len(f) > 1:
        return lcm(*(A104217(a**b) for a,b in f))
    else:
        k,x = 1, (0,2,3)
        while x != (3,0,2):
            k += 1
            x = (x[1], x[2], (x[0]+x[1]) % n)
        return k # _Chai Wah Wu_, Apr 25 2025

