# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A246593

from itertools import combinations
def A246593(n):
    if n <= 1:
        return n
    else:
        s, y = bin(n)[2:], n
        for i in combinations(range(len(s)),2):
            s2 = int(s[:i[0]]+s[i[1]]+s[i[0]+1:i[1]]+s[i[0]]+s[i[1]+1:],2)
            if s2 > y:
                y = s2
        return y
# _Chai Wah Wu_, Sep 05 2014
# implement algorithm in comment
def A246593(n):
    s = bin(n)[2:]
    s2 = s.rstrip('0')
    s3 = s2.lstrip('1')
    return(int(s2[:-len(s3)]+'1'+s3[1:-1]+'0'+s[len(s2):],2) if (len(s3) > 0 and n > 1) else n)
# _Chai Wah Wu_, Sep 08 2014

