# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A342244

from sympy import isprime, primerange
def ok(p):
  b = bin(p)[2:]
  for i in range(2, len(b)-1):
    if isprime(int(b[:i], 2)):
      if isprime(int(b[i:], 2)) or not ok(int(b[i:], 2)): return False
  return True
def aupto(lim): return [p for p in primerange(2, lim+1) if ok(p)]
print(aupto(3449)) # _Michael S. Branicky_, Mar 07 2021

