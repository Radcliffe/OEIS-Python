# This file is auto-generated from OEIS data.
# Please do not edit this file directly.
# OEIS sequence: A307537

# Partial Python code is shown below.  It uses other routines:
# numbthy.factor(n) -- from the Python number theory library, returns a list of
# (p,e) pairs corresponding to the prime factors and their exponents in the factorizations of n
# partitions(n,factor_list) -- takes an integer n and the factor list from above,
# returns a list of all bipartite factorizations of n
# lambda_n -- calculates the carmichael lambda function
# returns True if all partitions of n are idempotent
def isMaximallyIdempotent(n):
    factor_list = numbthy.factor(n)
    partitions_of_n = partitions(n,factor_list)
    lambda_n = carmichael_lambda_with_list(n,factor_list)
    for (p,q) in partitions_of_n:
        pseudo = (p-1)*(q-1)
        if pseudo % lambda_n != 0:
            return False
    return True

